@model ServerProject.Models.Accounts

@{
    ViewData["Title"] = "Details";
    List<StudentGrade> listSt = ViewBag.Stus as List<StudentGrade>;
    List<Marks> listmk = ViewBag.MK as List<Marks>;
}

<h2>Details</h2>
<style>
    img.img-circle {
        width: 200px;
        height: 200px;
        border: 2px solid #51D2B7;
    }
</style>

<div class="row">
    <div class="col-md-12 ">
        <button asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-info pull-right" value="Edit Profile">Edit information</button>
    </div>
</div>
<div class="row">
    <div class="col-md-4">
        <img src="@Model.Informations.Avatar" width="200px" class="center-block img-circle" />
        <dl class="dl-horizontal">
            <dt>
                Full name
            </dt>
            
            <dd>
                @Html.DisplayFor(model => model.Informations.FirstName) @Html.DisplayFor(model => model.Informations.MiddleName) @Html.DisplayFor(model => model.Informations.LastName)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Informations.Phone)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Informations.Phone)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Informations.Address)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Informations.Address)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Informations.Birthday)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Informations.Birthday)
            </dd>
            
            <dt>
                Class
            </dt>
            <dd>
                @foreach (var i in listSt.Where(s=>s.RollNumber == Model.Students.RollNumber))
                {
                    <a asp-action="../Grades/Details" asp-route-id="@i.GradeId" >@i.Grades.Name</a>
                }
            </dd>
        </dl>

    </div>
    <div class="col-md-8">

        <table class="table">
            <thead>
            <tr>
                @*<th></th>*@
                <th></th>
                <th></th>
                <th>Mark</th>
                <th></th>
                <th></th>
                <th></th>
            </tr>
            </thead>
            <tbody id="myTable">
            @foreach (var ma in listmk.Where(m=>m.RollNumber == Model.Students.RollNumber))
            {
                <tr>
                    <td style="display: none">@ma.CourseId</td>
                    <td style="display: none">@ma.Id</td>
                    <th>@ma.Courses.Name</th>
                    <td>
                        @ma.Type :
                        @ma.Value
                        @ma.Status
                    </td>
                    
                    <td>
                        <button type="button" class="btn btn-primary bthEdit" id="bth_editMark" data-toggle="modal" data-target="#exampleModal">
                            Edit
                        </button>
                    </td>
                </tr>
            }
            </tbody>
        </table>
    </div>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form method="post" asp-action="EditMark">
                    <input type="hidden" id="Id"   />
                    
                    
                   
                    Value: <input type="number" class="form-control" id="Assignment" name="Value">
                    <input type="submit" value="Edit"/>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" id="bth_editFil" data-dismiss="modal" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>
    <div>
        <a asp-action="Edit" asp-route-id="@Model.Id">Edit</a> |
        <a asp-action="Index">Back to List</a>
    </div>
